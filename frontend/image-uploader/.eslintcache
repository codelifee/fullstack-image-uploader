[{"/Users/suminjung/Desktop/Programming/full-stack/image-uploader/fullstack-image-uploader/frontend/image-uploader/src/index.js":"1","/Users/suminjung/Desktop/Programming/full-stack/image-uploader/fullstack-image-uploader/frontend/image-uploader/src/App.js":"2","/Users/suminjung/Desktop/Programming/full-stack/image-uploader/fullstack-image-uploader/frontend/image-uploader/src/reportWebVitals.js":"3"},{"size":500,"mtime":1612581416495,"results":"4","hashOfConfig":"5"},{"size":2217,"mtime":1612751641883,"results":"6","hashOfConfig":"5"},{"size":362,"mtime":1612581416495,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"xgk67r",{"filePath":"11","messages":"12","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"/Users/suminjung/Desktop/Programming/full-stack/image-uploader/fullstack-image-uploader/frontend/image-uploader/src/index.js",[],["16","17"],"/Users/suminjung/Desktop/Programming/full-stack/image-uploader/fullstack-image-uploader/frontend/image-uploader/src/App.js",["18","19","20"],"import React, {useState, useEffect, useCallback} from \"react\";\nimport {useDropzone} from 'react-dropzone'\n\nimport './App.css';\nimport axios from \"axios\";\n\nconst UserProfiles = () => {\n\n  const [userProfiles, setUserProfiles] = useState([]);\n  \n  const fetchUserProfiles = () => {\n    axios.get(\"http://localhost:8080/api/v1/user-profile\")\n         .then(res => {\n           const data = res.data;\n           setUserProfiles(data);\n         });\n\n  };\n\n  const fetchProfileImage = (userProfiles) => {\n    \n  }\n\n\n  useEffect(() => {\n    fetchUserProfiles();\n\n  }, []);\n\n  return userProfiles.map((userProfile, index) => {\n    \n    return (\n      <div key={index}>\n        {userProfile.userProfileId ? \n        <img src={`http://localhost:8080/api/v1/user-profile/${userProfile.userProfileId}/image/download`} /> : null}\n        <br/>\n        <br/>\n        <h1>{userProfile.username}</h1>\n        <p>{userProfile.userProfileId}</p>\n        <Dropzone userProfileId={userProfile.userProfileId} />\n        <br/>\n      </div>\n    )\n  })\n\n  //why userProfileId props here contain the object form of id?\n  //{userProfileId: -} like this\n  function Dropzone(userProfileId) {\n    const onDrop = useCallback(acceptedFiles => {\n      const file = acceptedFiles[0];\n      \n      console.log(userProfileId)\n      \n      const formData = new FormData();\n      formData.append(\"file\", file);\n\n      axios.post(`http://localhost:8080/api/v1/user-profile/${userProfileId.userProfileId}/image/upload`,\n      formData,\n      {\n        header: {\n          \"Content-Type\" : \"multipart/form-data\"\n        }\n      }\n      )\n      .then(() => {\n        console.log(\"file uploaded successfully\");\n      })\n      .catch(err => {\n        console.log(err);\n      })\n\n    }, []);\n    const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\n  \n    return (\n      <div {...getRootProps()}>\n        <input {...getInputProps()} />\n        {\n          isDragActive ?\n            <p>Drop the image</p> :\n            <p>Drag 'n' drop profile image, or click to select profile image</p>\n        }\n      </div>\n    )\n  }\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <UserProfiles />\n    </div>\n  );\n}\n\nexport default App;\n","/Users/suminjung/Desktop/Programming/full-stack/image-uploader/fullstack-image-uploader/frontend/image-uploader/src/reportWebVitals.js",[],{"ruleId":"21","replacedBy":"22"},{"ruleId":"23","replacedBy":"24"},{"ruleId":"25","severity":1,"message":"26","line":20,"column":9,"nodeType":"27","messageId":"28","endLine":20,"endColumn":26},{"ruleId":"29","severity":1,"message":"30","line":35,"column":9,"nodeType":"31","endLine":35,"endColumn":110},{"ruleId":"32","severity":1,"message":"33","line":72,"column":8,"nodeType":"34","endLine":72,"endColumn":10,"suggestions":"35"},"no-native-reassign",["36"],"no-negated-in-lhs",["37"],"no-unused-vars","'fetchProfileImage' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'userProfileId'. Either include it or remove the dependency array.","ArrayExpression",["38"],"no-global-assign","no-unsafe-negation",{"desc":"39","fix":"40"},"Update the dependencies array to be: [userProfileId]",{"range":"41","text":"42"},[1743,1745],"[userProfileId]"]