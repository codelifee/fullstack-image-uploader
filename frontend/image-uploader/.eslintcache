[{"/Users/suminjung/Desktop/Programming/full-stack/image-uploader/fullstack-image-uploader/frontend/image-uploader/src/index.js":"1","/Users/suminjung/Desktop/Programming/full-stack/image-uploader/fullstack-image-uploader/frontend/image-uploader/src/App.js":"2","/Users/suminjung/Desktop/Programming/full-stack/image-uploader/fullstack-image-uploader/frontend/image-uploader/src/reportWebVitals.js":"3"},{"size":500,"mtime":1612581416495,"results":"4","hashOfConfig":"5"},{"size":2109,"mtime":1612616035184,"results":"6","hashOfConfig":"5"},{"size":362,"mtime":1612581416495,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"xgk67r",{"filePath":"11","messages":"12","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"/Users/suminjung/Desktop/Programming/full-stack/image-uploader/fullstack-image-uploader/frontend/image-uploader/src/index.js",[],["16","17"],"/Users/suminjung/Desktop/Programming/full-stack/image-uploader/fullstack-image-uploader/frontend/image-uploader/src/App.js",["18","19"],"import React, {useState, useEffect, useCallback} from \"react\";\nimport {useDropzone} from 'react-dropzone'\n\nimport './App.css';\nimport axios from \"axios\";\n\nconst UserProfiles = () => {\n\n  const [userProfiles, setUserProfiles] = useState([]);\n  \n  const fetchUserProfiles = () => {\n    axios.get(\"http://localhost:8080/api/v1/user-profile\")\n         .then(res => {\n           const data = res.data;\n           setUserProfiles(data);\n         });\n  };\n\n  useEffect(() => {\n    fetchUserProfiles();\n  }, []);\n\n  return userProfiles.map((userProfile, index) => {\n    \n    return (\n      <div key={index}>\n        {userProfile.userProfileid ? \n        <img src={`http://localhost:8080/api/v1/user-profile/${userProfile.userProfileId}/image/download`} /> : null}\n        <br/>\n        <br/>\n        <h1>{userProfile.username}</h1>\n        <p>{userProfile.userProfileId}</p>\n        <Dropzone userProfileId={userProfile.userProfileId} />\n        <br/>\n      </div>\n    )\n  })\n\n  //why userProfileId props here contain the object form of id?\n  //{userProfileId: -} like this\n  function Dropzone(userProfileId) {\n    const onDrop = useCallback(acceptedFiles => {\n      const file = acceptedFiles[0];\n      \n      \n      const formData = new FormData();\n      formData.append(\"file\", file);\n\n      axios.post(`http://localhost:8080/api/v1/user-profile/${userProfileId}/image/upload`,\n      formData,\n      {\n        header: {\n          \"Content-Type\" : \"multipart/form-data\"\n        }\n      }\n      )\n      .then(() => {\n        console.log(\"file uploaded successfully\");\n      })\n      .catch(err => {\n        console.log(err);\n      })\n\n    }, []);\n    const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\n  \n    return (\n      <div {...getRootProps()}>\n        <input {...getInputProps()} />\n        {\n          isDragActive ?\n            <p>Drop the image</p> :\n            <p>Drag 'n' drop profile image, or click to select profile image</p>\n        }\n      </div>\n    )\n  }\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <UserProfiles />\n    </div>\n  );\n}\n\nexport default App;\n","/Users/suminjung/Desktop/Programming/full-stack/image-uploader/fullstack-image-uploader/frontend/image-uploader/src/reportWebVitals.js",[],{"ruleId":"20","replacedBy":"21"},{"ruleId":"22","replacedBy":"23"},{"ruleId":"24","severity":1,"message":"25","line":28,"column":9,"nodeType":"26","endLine":28,"endColumn":110},{"ruleId":"27","severity":1,"message":"28","line":64,"column":8,"nodeType":"29","endLine":64,"endColumn":10,"suggestions":"30"},"no-native-reassign",["31"],"no-negated-in-lhs",["32"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'userProfileId'. Either include it or remove the dependency array.","ArrayExpression",["33"],"no-global-assign","no-unsafe-negation",{"desc":"34","fix":"35"},"Update the dependencies array to be: [userProfileId]",{"range":"36","text":"37"},[1635,1637],"[userProfileId]"]